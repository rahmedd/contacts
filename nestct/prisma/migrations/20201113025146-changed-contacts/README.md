# Migration `20201113025146-changed-contacts`

This migration has been generated by raed at 11/12/2020, 8:51:46 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Contact" DROP COLUMN "name",
DROP COLUMN "details",
ADD COLUMN "firstName" text   ,
ADD COLUMN "lastName" text   

ALTER TABLE "public"."User" DROP COLUMN "photo"

ALTER TABLE "public"."UserContact" DROP COLUMN "createdAt"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201111022314-contact-photo..20201113025146-changed-contacts
--- datamodel.dml
+++ datamodel.dml
@@ -3,36 +3,39 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
   id        Int           @id @default(autoincrement())
   email     String        @unique
   firstName String
   lastName  String?
   password  String
-  photo     String?
+
+  //relations
   contacts  UserContact[]
 }
 model UserContact {
-  createdAt DateTime @default(now())
   userId    Int
   contactId Int
+
+  //relations
   contacts  Contact  @relation(fields: [contactId], references: [id])
   user      User     @relation(fields: [userId], references: [id])
-
   @@id([userId, contactId])
 }
 model Contact {
   id      Int           @id @default(autoincrement())
-  name    String
-  details String?
+  firstName String?
+  lastName  String?
   photo   String?
+
+  //relations
   number  Number[]
   email   Email[]
   users   UserContact[]
 }
@@ -41,13 +44,17 @@
   id        Int     @id @default(autoincrement())
   number    String
   label     String?
   contactId Int
+  
+  //relations
   contact   Contact @relation(fields: [contactId], references: [id])
 }
 model Email {
   id        Int     @id @default(autoincrement())
   email    String
   contactId Int
+
+  //relations
   contact   Contact @relation(fields: [contactId], references: [id])
 }
```


